<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="oanc.github.io : GitHub repository for the American National Corpus.">

    <link rel="stylesheet" type="text/css" media="screen" href="/css/slate.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/css/lappsgrid.css"/>
     
	<script type="text/javascript"
		src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>
		<script type="text/javascript">
		MathJax.Hub.Config({
			jax: ["input/TeX", "output/HTML-CSS"],
            tex2jax: {
                inlineMath: [ ['%','%'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                processEscapes: false
            },
        });
    </script>	

    <title>Documentation</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <!-- <a id="forkme_banner" href="https://github.com/lapps">View on GitHub</a> -->
		  <a id="forkme_banner" href="https://github.com/lapps/lapps.github.io/edit/master/Documentation.md">Edit this page on GitHub</a>.
		  
          <h1 id="project_title">The LAPPS Grid Wiki</h1>
          <h2 id="project_tagline">A framework for interoperable NLP web services.</h2>

        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">


	<h2 id="documentation">Documentation</h2>

<p>Some notes going into the Documentation meeting at Brandeis, 1/31/2017-2/2/2017.</p>

<h3 id="location-of-documentation">Location of documentation</h3>

<p>Documentation will live in <a href="lappsgrid.github.io">lappsgrid.github.io</a>, which will be redesigned. The wiki.lappsgrid.org domain points to lappsgrid.github.io. The github.io page is technically not a wiki but close enough.</p>

<h3 id="overview">Overview</h3>

<p>Start with a blank slate and figure out the exact procedures for creating a LAPPS Grid.</p>

<p>In particular, what needs to be done for the following to happen:</p>

<h3 id="installing-a-service-manager">Installing a service manager</h3>

<p>Requirements (debian, rhel, osx), start with virgin machine (JetStream instance)</p>

<p>Here are some [historical notes] from (http://wiki.lappsgrid.org/manuals/service-manager/install-service-manager/index.html) from 2014.</p>

<p>There is a one-step-install script (written by Keith for debian/ubuntu, Keigh had a RHEL version).</p>

<p>Now an easier proces:
- requires postgress, tomcat 7 installation, Java 8 (latest manager (Jan 2017)
- get the service manager war and put it on tomcat
- start/stop tomcat to create database, using tomcat scripts
- there are two sql scripts that need to be run to set up tables in postgress
- vevice-manager.xml needs to be edited</p>

<p>**set up new service manager on Jetstream</p>

<h3 id="creating-and-adding-services">Creating and adding services</h3>

<p>How to create services - wrapping, discriminators, LIF, WSEV, deploying, registering</p>

<p>Wrapping:</p>

<ul>
  <li><a href="https://github.com/lapps/org.lappsgrid.examples">Wrapping services</a> - README.md file in org.lappsgrid.examples repository</li>
</ul>

<p>LIF and WSEV:</p>

<ul>
  <li>output of wrapped components should follow LIF specifications and use elements from WSEV</li>
  <li><a href="interchange/index.html">LIF specifications</a></li>
  <li><a href="schema/lif-schema.json">LIF JSON-schema</a></li>
  <li><a href="http://vocab.lappsgrid.org/">WSEV at http://vocab.lappsgrid.org/</a></li>
  <li><a href="http://wiki.lappsgrid.org/vocabulary/current_issues.html">WSEV discussion</a></li>
  <li><a href="https://github.com/lapps/vocabulary-pages/issues">WSEV issues</a></li>
</ul>

<p>Vocabulary and Discriminators:</p>

<ul>
  <li>everything in vocab is in discriminators but not vice versa</li>
  <li>there is a vocab dsl and a discriminators dsl (both configuration files for transformations)
    <ol>
      <li><a href="https://github.com/lappsgrid-incubator/vocabulary-dsl">https://github.com/lappsgrid-incubator/vocabulary-dsl</a></li>
      <li><a href="https://github.com/lappsgrid-incubator/org.lappsgrid.discriminator.dsl">https://github.com/lappsgrid-incubator/org.lappsgrid.discriminator.dsl</a></li>
    </ol>
  </li>
  <li>the input to 1 is lapps.vocab in <a href="https://github.com/lapps/vocabulary-pages">https://github.com/lapps/vocabulary-pages</a> (there are also template files and other onput files for the mapping in there), it creates vocab.lappsgrid.org html, <a href="https://github.com/lapps/org.lappsgrid.vocabulary">org.lappsgrid.vocabulary</a> (which is like the discriminator package and describes attribute names etcetera defined in the vocab), and a Groovy config DSL file with same content</li>
  <li>the input to 2 is the text file above and a file named discriminators.txt, the output is <a href="http://vocab.lappsgrid.org/discriminators">http://vocab.lappsgrid.org/discriminators</a> and parts of the java package in <a href="https://github.com/lapps/org.lappsgrid.discriminator">https://github.com/lapps/org.lappsgrid.discriminator</a></li>
</ul>

<p><strong>check whether this all still works</strong></p>

<p>Discriminators are used in the produces and requires sections of a tool wrapper’s metadata. It is up to the tool wrapper to check whether input has what it needs (searching the contains section of the metadata section of a view. THere is also a discriminator handed in with the Data structure, which has a discriminator and a payload section. The dicriminator there is one of the dozen or so media discriminators in <a href="http://vocab.lappsgrid.org/discriminators">http://vocab.lappsgrid.org/discriminators</a> (for example, the discriminator gate	which refers to http://vocab.lappsgrid.org/ns/media/xml#gate).</p>

<p>Deploying:</p>

<p>THis is explained in the wrapping manual in <a href="https://github.com/lapps/org.lappsgrid.examples">github.com/lapps/org.lappsgrid.examples</a>, which was listed above.</p>

<p>After deploying a war file to tomcat the new war will be deployed automatically, but if you changed Java versions while running a tomcat server then you do need to restart Tomcat.</p>

<p>Registering:</p>

<ul>
  <li>
    <p>Using lddl-scripts in <a href="https://github.com/lappsgrid-incubator/lddl-scripts">https://github.com/lappsgrid-incubator/lddl-scripts</a></p>
  </li>
  <li>
    <p>Register using LDDL to update the service on the service manager on vassar or brandeis servers. Using Brandeis.lddl for Brandeis in lddl-scripts. Brandeis.lddl refers to lddl scripts in the brandeis subdirectory, thise would typically be changed or scripts would be added there for deploying new tools. There is a fork of this on brandeis-nlp, will probably rplace that by using a brandeis branch on lappsgrid-incubator.</p>
  </li>
  <li>
    <p>We are still assuming old version of the service manager</p>
  </li>
  <li>
    <p>The lddl-scripts/Udate.lddl script takes another script from brandeis or vassar and installs/updates just that module</p>
  </li>
  <li>
    <p><strong>check whether this works with new service manager</strong></p>
  </li>
</ul>

<h3 id="setting-up-galaxy">Setting up Galaxy</h3>

<ul>
  <li>
    <p><a href="http://wiki.lappsgrid.org/technical/galaxy.html">http://wiki.lappsgrid.org/technical/galaxy.html</a></p>
  </li>
  <li>
    <p><a href="http://downloads.lappsgrid.org/scripts/">installation and setup scripts</a></p>
  </li>
  <li>Two repos with Galaxy code:
    <ul>
      <li>We have a fork <a href="https://github.com/lappsgrid-incubator/Galaxy">https://github.com/lappsgrid-incubator/Galaxy</a> of <a href="https://github.com/galaxyproject/galaxy">https://github.com/galaxyproject/galaxy</a> with some lapps specific modifications</li>
      <li>The LAPPS Grid modifications to core Galaxy are in the <a href="https://github.com/lappsgrid-incubator/GalaxyMods">GalaxyMods</a> repository</li>
      <li>There are Galaxy webhooks for extending the Galaxy client without changing the Galaxy code base at <a href="https://docs.galaxyproject.org/en/latest/admin/webhooks.html">https://docs.galaxyproject.org/en/latest/admin/webhooks.html</a></li>
    </ul>
  </li>
  <li>
    <p>Planemo</p>
  </li>
  <li>Visualization</li>
</ul>

<h3 id="federation">Federation</h3>

<p>No documentation available. We first need to get everything on the latest service manager.</p>

<h3 id="making-services-run-on-https">Making services run on https</h3>

<p>Some MV notes somewhere</p>

<h3 id="authorization-of-data-services-ldc">Authorization of data services (LDC)</h3>

<p>This is actually just a token header that is put in …</p>

<h3 id="how-to-create-docker-images">How to create Docker images</h3>

<ul>
  <li>
    <p>manual at …</p>
  </li>
  <li>
    <p>Repositories:</p>
    <ul>
      <li><a href="https://github.com/lappsgrid-incubator/docker-service-manager">https://github.com/lappsgrid-incubator/docker-service-manager</a></li>
      <li><a href="https://github.com/lappsgrid-incubator/docker-masc">https://github.com/lappsgrid-incubator/docker-masc</a></li>
      <li><a href="https://github.com/lappsgrid-incubator/docker-vassar">https://github.com/lappsgrid-incubator/docker-vassar</a></li>
      <li><a href="https://github.com/lappsgrid-incubator/docker-brandeis">https://github.com/lappsgrid-incubator/docker-brandeis</a></li>
      <li><a href="https://github.com/lappsgrid-incubator/docker-oaqa">https://github.com/lappsgrid-incubator/docker-oaqa</a></li>
    </ul>
  </li>
</ul>

<h3 id="running-on-aws">Running on AWS</h3>

<ul>
  <li><a href="https://github.com/lappsgrid-incubator/discovery-course">Discovery course</a></li>
</ul>

<h3 id="running-on-jetstream">Running on JetStream</h3>

<p>There is a bash script at <a href="downloads.lappsgrid.org/scripts">downloads.lappsgrid.org/scripts</a>.</p>

<p><strong>Keigh + Marc: review ow to do that from Keith’s example a few months ago</strong></p>

<ul>
  <li>Quick applicatin process to get 200K service units, which should allow us to run the grid for a year</li>
  <li><a href="https://github.com/lappsgrid-incubator/jetstream-scripts">https://github.com/lappsgrid-incubator/jetstream-scripts</a></li>
</ul>

<h3 id="creating-a-lappsgrid-with-appliances">Creating a lappsgrid with appliances</h3>

<ul>
  <li>A system for configuring a network of LAPPS Grid Docker images</li>
  <li><a href="https://github.com/lappsgrid-incubator/galaxy-appliance">https://github.com/lappsgrid-incubator/galaxy-appliance</a></li>
</ul>

<h3 id="using-ansible">Using Ansible</h3>

<p><a href="https://github.com/lappsgrid-incubator/lapps-container">https://github.com/lappsgrid-incubator/lapps-container</a></p>

<h3 id="conda-toolshed-and-friends">Conda, toolshed and friends</h3>

<h3 id="using-jupyter">Using Jupyter</h3>

<ul>
  <li>
    <p><a href="https://github.com/lappsgrid-incubator/jupyter-groovy-kernel">https://github.com/lappsgrid-incubator/jupyter-groovy-kernel</a></p>
  </li>
  <li>
    <p><a href="https://github.com/lappsgrid-incubator/jupyter-lsd-kernel">https://github.com/lappsgrid-incubator/jupyter-lsd-kernel</a></p>
  </li>
</ul>

<h3 id="lddl-and-lsd">LDDL and LSD</h3>

<ul>
  <li>
    <p>Both are Groovy DSLs</p>
  </li>
  <li>
    <p>LSD - Lapps Services DSL, a DSL for invoking LAPPS web services (possibly pipelined).</p>
  </li>
  <li>
    <p>The code base for LSD is at <a href="https://github.com/lappsgrid-incubator/org.anc.lapps.dsl">https://github.com/lappsgrid-incubator/org.anc.lapps.dsl</a></p>
  </li>
  <li>
    <p>LDDL - LAPPS Database Definition Language</p>
  </li>
  <li>
    <p>Configuration scripts for the LAPPS grid at <a href="https://github.com/lappsgrid-incubator/org.anc.lapps.lddl">https://github.com/lappsgrid-incubator/org.anc.lapps.lddl</a></p>
  </li>
  <li>
    <p>LDDL scripts at <a href="https://github.com/lappsgrid-incubator/lddl-scripts">https://github.com/lappsgrid-incubator/lddl-scripts</a></p>
  </li>
  <li>
    <p><a href="http://www.lappsgrid.org/software/">http://www.lappsgrid.org/software/</a> has some notes on LDDL and LSD</p>
  </li>
  <li>
    <p>Description of LDDL: <a href="http://www.lappsgrid.org/software/lddl/">http://www.lappsgrid.org/software/lddl/</a></p>
  </li>
  <li>
    <p>There is an outdated wiki at <a href="https://github.com/ksuderman/lsd-scripts/wiki">https://github.com/ksuderman/lsd-scripts/wiki</a></p>
  </li>
</ul>

<h3 id="repositories">Repositories</h3>

<p>Where are all the repositories, what do they do and what is their role in the bigger picture
  - The LAPPS Grid incubator organization at <a href="https://github.com/lappsgrid-incubator">https://github.com/lappsgrid-incubator</a>
  - The LAPPS organization at <a href="https://github.com/lapps">https://github.com/lapps</a>
  - The Galaxy NLP organization at <a href="https://github.com/galaxy-nlp">https://github.com/galaxy-nlp</a>
  - The Brandeis NLP organization at <a href="https://github.com/brandeis-nlp">https://github.com/brandeis-nlp</a>
    - code for wrappers created at Brandeis
  - The OANC organization at <a href="https://github.com/oanc">https://github.com/oanc</a>
    - code for wrappers created at Vassar</p>

<h3 id="goals-for-first-day">Goals for first day</h3>

<p>Do not get lost in details, expand on the list above and get an overview of each item, filling in all we know and collecting in the wiki, by copying in text or by providing links, all information that is relevant and noting what information is missing.</p>

<p>Layout of basic redesign of lappsgrid.github.io.</p>

<p>Come up with scenarios of what somebody may want to do given some configuration. For example:</p>

<ul>
  <li>I have a server and want to have a Lapps Grid</li>
  <li>I want something running in AWS</li>
  <li>I want to add my tool to a grid</li>
</ul>


	
      </section>
    </div>
	<div>
	</div>
    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>Copyright &copy; 2017 The Language Application Grid</p>
      </footer>
    </div>

    

  </body>
</html>


